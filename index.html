<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Miles API Test</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
</head>
<body>
  <script>
    (function() {

      function createCORSRequest(method, url) {
        var xhr = new XMLHttpRequest();
        if ("withCredentials" in xhr) {
          xhr.open(method, url, true);
        } else if (typeof XDomainRequest != "undefined") {
          xhr = new XDomainRequest();
          xhr.open(method, url);
        } else {
          xhr = null;
        }
        return xhr;
      }

      var xhr = createCORSRequest('GET', url);
      if (!xhr) {
        throw new Error('CORS not supported');
      }

      //AccountID: WEBINTTEST
      //AccountKey: ae92772f-9980-4954-87ff-397d583007ad

      var url = 'https://curaweb.mindscope.com/standardapi_cura/webservices/standardwi.asmx/JobSearchResultsOrdered?ProfileID=0&ProfileID=&ProfileID=&ProfileID=&ProfileID=0&ProfileID=0&ProfileID=0&Varkeyword=&topFive=true&AccountID=WEBINTTEST&AccountKey=ae92772f-9980-4954-87ff-397d583007ad&orderField=ID&orderBy=ASC';

      var xhr = createCORSRequest('GET', url);
      xhr.send();

      xhr.onload = function() {
        var text = xhr.responseText;
        console.log(xhr.response);
      };

    })();
  </script>
</body>
</html>
